@{
    ViewData["Title"] = ViewBag.Service;
}
<div class="container">
    <div class="header-wrap">
        <h3 class="header">@ViewBag.Service</h3>
        <h4>BOOK REQUEST FORM</h4>
        <p>Welcome to KPA Bookstore Book Request! We bring your favourite reads to your doorstep!</p>
        <p>Please fill out the form below with your details and the details of the books you would like to order, and we will get back to you. Until then, happy reading!</p>

        <div class="row mt-5">
            <div class="col-lg-10">
                <form id="book-request-form">
                    <div class="form-row">
                        <input type="hidden">
                        <div class="form-group col-md-6">
                            <label for="name">Name <span>*</span></label>
                            <input type="text" class="form-control" name="name" id="name" placeholder="" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="email">Email <span>*</span></label>
                            <input type="email" class="form-control" name="email" id="email" placeholder="" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="city">City <span>*</span></label>
                            <input type="text" class="form-control" name="city" id="city" placeholder="" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="phone">Phone <span>*</span></label>
                            <input type="tel" class="form-control" onkeypress="return event.charCode >= 48 && event.charCode <= 57" name="phone" id="phone" placeholder="" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="book_title">Book Title <span>*</span></label>
                            <input type="text" class="form-control" name="book_title" id="book_title" placeholder="" required>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="author_name">Author Name <span>*</span></label>
                            <input type="text" class="form-control" name="author_name" id="author_name" placeholder="" required>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="book_info">Here is more information about the book I am requesting <span>*</span></label>
                            <textarea style="resize: none" id="book_info" name="book_info" class="form-control" placeholder="" rows="6" required></textarea>
                        </div>
                    </div>
                    <button type="submit" class="btn bookrequest-btn">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/@("@emailjs")/browser@4/dist/email.min.js"></script>
    <script>
        (function () {
            emailjs.init("xKXTUwEEes8A_maGU");
        })();
        $(document).ready(function () {
            $("#book-request-form").on("submit", function (e) {
                e.preventDefault();

                emailjs.sendForm('service_t2f4gbg', 'template_jn1e5qk', this)
                    .then(function (response) {
                        toastr.success("Send Email Successfully");
                        $('#book-request-form').trigger("reset");
                    }, function (error) {
                        toastr.error("Send Email Successfully");
                    });
            });
        });
    </script>
}